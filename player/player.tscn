[gd_scene load_steps=57 format=3 uid="uid://krtsv285lj8"]

[ext_resource type="Texture2D" uid="uid://c3qh6yo5hsj54" path="res://assets/sprites/girl02_longhair01_right_32-32_spritesheet.png" id="1_oul6g"]
[ext_resource type="Script" uid="uid://dwgyy0ja78842" path="res://player/Player.gd" id="1_rgyib"]
[ext_resource type="Shader" uid="uid://chra3k4qtt1sj" path="res://player/hit_flash.gdshader" id="1_tqiix"]
[ext_resource type="Texture2D" uid="uid://bufkc8t0m421u" path="res://assets/sprites/shadow_sprite_256_128.png" id="2_8t03j"]
[ext_resource type="Script" uid="uid://buhqnmqvlv4a" path="res://core/StateMachine.gd" id="2_g1dw6"]
[ext_resource type="Resource" uid="uid://gqvu6omgj4hc" path="res://player/player_stats.tres" id="2_yllr7"]
[ext_resource type="Script" uid="uid://ve0wxcpshrxb" path="res://player/State/OnGroundState.gd" id="3_g6k8r"]
[ext_resource type="Resource" uid="uid://c7t4ghuev0p5x" path="res://core/ability/tres/sword_normal_attack.tres" id="3_tqiix"]
[ext_resource type="Script" uid="uid://baonso7pmlo1g" path="res://player/State/IdleState.gd" id="3_yw30f"]
[ext_resource type="Resource" uid="uid://xsbb3pybgov6" path="res://core/ability/tres/sword_special_attack.tres" id="4_e7oew"]
[ext_resource type="Script" uid="uid://46rnc7diekue" path="res://player/State/MoveState.gd" id="4_yw30f"]
[ext_resource type="Texture2D" uid="uid://okq0p308r2ln" path="res://player/sprites/sprite_sheet_isometric_test_attack.png" id="6_x7c3f"]
[ext_resource type="Script" uid="uid://4gntyhfqgg4x" path="res://player/State/DodgeState.gd" id="7_boad6"]
[ext_resource type="Texture2D" uid="uid://bo6m1ae8nvw7h" path="res://player/sprites/sprite_sheet_isometric_test_dodge.png" id="8_bjvpn"]
[ext_resource type="Texture2D" uid="uid://samcuj04qvi4" path="res://player/sprites/sprite_sheet_isometric_test.png" id="8_c35mf"]
[ext_resource type="Script" uid="uid://b2wrtcfombe4k" path="res://player/State/InAirState.gd" id="9_hg6s5"]
[ext_resource type="Texture2D" uid="uid://cmcanlsimnn7d" path="res://player/sprites/sprite_sheet_isometric_test_jump.png" id="10_bjvpn"]
[ext_resource type="Texture2D" uid="uid://cye6m7q66xewu" path="res://player/sprites/sprite_sheet_isometric_test_run.png" id="10_s7qer"]
[ext_resource type="PackedScene" uid="uid://cxhrkcxsscc4s" path="res://components/Hurtbox/hurtbox.tscn" id="11_2ieo8"]
[ext_resource type="Script" uid="uid://bts7anyhif4v3" path="res://player/AbilityState.gd" id="13_c35mf"]
[ext_resource type="Script" uid="uid://cgounqvs1pwgk" path="res://player/TemporaryUpgradeController.gd" id="14_kb6p2"]
[ext_resource type="Script" uid="uid://rs8arabf04hr" path="res://player/GameCamera.gd" id="17_e7oew"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tqiix"]
shader = ExtResource("1_tqiix")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_modifier = 0.0

[sub_resource type="AtlasTexture" id="AtlasTexture_g4c7l"]
atlas = ExtResource("6_x7c3f")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_knn7v"]
atlas = ExtResource("6_x7c3f")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_7pqkx"]
atlas = ExtResource("6_x7c3f")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_uw77l"]
atlas = ExtResource("6_x7c3f")
region = Rect2(384, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_rptt4"]
atlas = ExtResource("6_x7c3f")
region = Rect2(512, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_r7pn3"]
atlas = ExtResource("6_x7c3f")
region = Rect2(640, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_b8hi5"]
atlas = ExtResource("6_x7c3f")
region = Rect2(768, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_rkbax"]
atlas = ExtResource("1_oul6g")
region = Rect2(704, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_g1dw6"]
atlas = ExtResource("1_oul6g")
region = Rect2(672, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_2uvqg"]
atlas = ExtResource("8_bjvpn")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_1s1yo"]
atlas = ExtResource("8_bjvpn")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_5ejfk"]
atlas = ExtResource("8_bjvpn")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_jd2rm"]
atlas = ExtResource("8_bjvpn")
region = Rect2(384, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_q28gw"]
atlas = ExtResource("8_bjvpn")
region = Rect2(512, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_ge24q"]
atlas = ExtResource("8_bjvpn")
region = Rect2(640, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_pnw6m"]
atlas = ExtResource("8_bjvpn")
region = Rect2(768, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_65viv"]
atlas = ExtResource("8_c35mf")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_x7c3f"]
atlas = ExtResource("8_c35mf")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_bjvpn"]
atlas = ExtResource("8_c35mf")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_s7qer"]
atlas = ExtResource("10_bjvpn")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_gswnw"]
atlas = ExtResource("10_bjvpn")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_xcnuv"]
atlas = ExtResource("10_bjvpn")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_j55il"]
atlas = ExtResource("10_bjvpn")
region = Rect2(384, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_hjies"]
atlas = ExtResource("10_bjvpn")
region = Rect2(512, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_mmwog"]
atlas = ExtResource("10_bjvpn")
region = Rect2(640, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_1so5t"]
atlas = ExtResource("10_s7qer")
region = Rect2(0, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_55jnj"]
atlas = ExtResource("10_s7qer")
region = Rect2(128, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_dx5ib"]
atlas = ExtResource("10_s7qer")
region = Rect2(256, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_a2xo5"]
atlas = ExtResource("10_s7qer")
region = Rect2(384, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_art4l"]
atlas = ExtResource("10_s7qer")
region = Rect2(512, 0, 128, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_fjxoa"]
atlas = ExtResource("10_s7qer")
region = Rect2(640, 0, 128, 128)

[sub_resource type="SpriteFrames" id="SpriteFrames_yw30f"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_g4c7l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_knn7v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7pqkx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uw77l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rptt4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r7pn3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b8hi5")
}],
"loop": false,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_rkbax")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_g1dw6")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2uvqg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1s1yo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_5ejfk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jd2rm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q28gw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ge24q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pnw6m")
}],
"loop": false,
"name": &"dodge",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_65viv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x7c3f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_x7c3f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bjvpn")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_s7qer")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gswnw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xcnuv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_j55il")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hjies")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mmwog")
}],
"loop": false,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1so5t")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_55jnj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dx5ib")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a2xo5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_art4l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fjxoa")
}],
"loop": true,
"name": &"run",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_bjvpn"]

[node name="Player" type="CharacterBody2D" groups=["player"]]
collision_mask = 134
script = ExtResource("1_rgyib")
stats = ExtResource("2_yllr7")
normal_attack_ability = ExtResource("3_tqiix")
special_attack_ability = ExtResource("4_e7oew")

[node name="ShadowSprite" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0.490196)
position = Vector2(0, -5)
scale = Vector2(0.073, 0.073)
texture = ExtResource("2_8t03j")

[node name="CharacterSprite" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_tqiix")
sprite_frames = SubResource("SpriteFrames_yw30f")
animation = &"idle"
speed_scale = 2.0
offset = Vector2(0, -56)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -6)
scale = Vector2(1, 0.5)
shape = SubResource("CircleShape2D_bjvpn")

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("2_g1dw6")
initial_state = NodePath("OnGround")

[node name="OnGround" type="Node" parent="StateMachine"]
script = ExtResource("3_g6k8r")

[node name="Idle" type="Node" parent="StateMachine/OnGround"]
script = ExtResource("3_yw30f")

[node name="Move" type="Node" parent="StateMachine/OnGround"]
script = ExtResource("4_yw30f")

[node name="Dodge" type="Node" parent="StateMachine/OnGround"]
script = ExtResource("7_boad6")

[node name="Ability" type="Node" parent="StateMachine/OnGround"]
script = ExtResource("13_c35mf")

[node name="InAir" type="Node" parent="StateMachine"]
script = ExtResource("9_hg6s5")

[node name="Hurtbox" parent="." instance=ExtResource("11_2ieo8")]
position = Vector2(0, -45)
scale = Vector2(1.2, 4.5)
collision_mask = 64

[node name="Camera2D" type="Camera2D" parent="." groups=["camera"]]
offset = Vector2(0, -52)
script = ExtResource("17_e7oew")

[node name="TemporaryUpgradeController" type="Node" parent="."]
script = ExtResource("14_kb6p2")

[node name="AttackPoint" type="Marker2D" parent="."]
position = Vector2(1, -9)
